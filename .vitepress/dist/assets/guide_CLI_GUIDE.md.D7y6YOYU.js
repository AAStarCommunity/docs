import{_ as a,c as i,o as e,ag as t}from"./chunks/framework.dvv-DFtf.js";const k=JSON.parse('{"title":"SuperPaymaster V3 SDK æµ‹è¯•æŒ‡å— (CLI)","description":"","frontmatter":{},"headers":[],"relativePath":"guide/CLI_GUIDE.md","filePath":"guide/CLI_GUIDE.md"}'),n={name:"guide/CLI_GUIDE.md"};function l(p,s,o,r,h,d){return e(),i("div",null,[...s[0]||(s[0]=[t(`<h1 id="superpaymaster-v3-sdk-æµ‹è¯•æŒ‡å—-cli" tabindex="-1">SuperPaymaster V3 SDK æµ‹è¯•æŒ‡å— (CLI) <a class="header-anchor" href="#superpaymaster-v3-sdk-æµ‹è¯•æŒ‡å—-cli" aria-label="Permalink to &quot;SuperPaymaster V3 SDK æµ‹è¯•æŒ‡å— (CLI)&quot;">â€‹</a></h1><p>æœ¬æ–‡æ¡£é¢å‘å¼€å‘è€…ï¼Œæä¾› SuperPaymaster V3 ç³»ç»Ÿåœ¨æœ¬åœ° Anvil ç¯å¢ƒä¸‹çš„å„ç§æµ‹è¯•å’Œåˆå§‹åŒ–å‘½ä»¤ã€‚</p><h2 id="ğŸ› -å‡†å¤‡å·¥ä½œ" tabindex="-1">ğŸ›  å‡†å¤‡å·¥ä½œ <a class="header-anchor" href="#ğŸ› -å‡†å¤‡å·¥ä½œ" aria-label="Permalink to &quot;ğŸ›  å‡†å¤‡å·¥ä½œ&quot;">â€‹</a></h2><p>åœ¨å¼€å§‹ä»»ä½•æµ‹è¯•å‰ï¼Œè¯·ç¡®ä¿ï¼š</p><ol><li>æœ¬åœ° <code>anvil</code> å·²å¯åŠ¨ (<code>anvil</code>)ã€‚</li><li>ä½äº <code>projects/aastar-sdk</code> ç›®å½•ã€‚</li><li><code>.env.v3</code> æ–‡ä»¶å­˜åœ¨ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼Œè¿è¡Œåˆå§‹åŒ–è„šæœ¬ä¼šè‡ªåŠ¨åˆ›å»ºï¼‰ã€‚</li></ol><hr><h2 id="ğŸš€-å¸¸ç”¨æŒ‡ä»¤é›†" tabindex="-1">ğŸš€ å¸¸ç”¨æŒ‡ä»¤é›† <a class="header-anchor" href="#ğŸš€-å¸¸ç”¨æŒ‡ä»¤é›†" aria-label="Permalink to &quot;ğŸš€ å¸¸ç”¨æŒ‡ä»¤é›†&quot;">â€‹</a></h2><h3 id="_1-åˆå§‹åŒ–è¿è¡Œ-init-setup" tabindex="-1">1. åˆå§‹åŒ–è¿è¡Œ (Init &amp; Setup) <a class="header-anchor" href="#_1-åˆå§‹åŒ–è¿è¡Œ-init-setup" aria-label="Permalink to &quot;1. åˆå§‹åŒ–è¿è¡Œ (Init &amp; Setup)&quot;">â€‹</a></h3><p><strong>åœºæ™¯</strong>: ç¬¬ä¸€æ¬¡è¿è¡Œæµ‹è¯•ï¼Œæˆ–è€… Anvil é‡å¯åéœ€è¦é‡æ–°åŒæ­¥åˆçº¦çŠ¶æ€ã€‚</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./run_full_regression.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --init-only</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æˆ–è€…ç›´æ¥è¿è¡Œå…¨é‡å›å½’ï¼Œå®ƒä¼šè‡ªåŠ¨åŒ…å«åˆå§‹åŒ–</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:full</span></span></code></pre></div><h3 id="_2-å¿«é€Ÿå›å½’æµ‹è¯•-fast-test-pre-commit" tabindex="-1">2. å¿«é€Ÿå›å½’æµ‹è¯• (Fast Test / Pre-commit) <a class="header-anchor" href="#_2-å¿«é€Ÿå›å½’æµ‹è¯•-fast-test-pre-commit" aria-label="Permalink to &quot;2. å¿«é€Ÿå›å½’æµ‹è¯• (Fast Test / Pre-commit)&quot;">â€‹</a></h3><p><strong>åœºæ™¯</strong>: æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¿«é€ŸéªŒè¯æ ¸å¿ƒå®‰å…¨é€»è¾‘ï¼ˆæƒé™æ£€æŸ¥ã€å½±å­è´¦æˆ·ç­‰ï¼‰ã€‚è¿™ä¹Ÿé›†æˆåœ¨ Git Pre-commit Hook ä¸­ã€‚</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:fast</span></span></code></pre></div><p><em>è¿è¡Œè„šæœ¬: <code>scripts/99_bug_hunting_fast.ts</code></em></p><h3 id="_3-å…¨é‡åœºæ™¯å›å½’-full-regression" tabindex="-1">3. å…¨é‡åœºæ™¯å›å½’ (Full Regression) <a class="header-anchor" href="#_3-å…¨é‡åœºæ™¯å›å½’-full-regression" aria-label="Permalink to &quot;3. å…¨é‡åœºæ™¯å›å½’ (Full Regression)&quot;">â€‹</a></h3><p><strong>åœºæ™¯</strong>: å‘å¸ƒå‰éªŒæ”¶ï¼ŒéªŒè¯å…¨éƒ¨ 72 ä¸ªçœŸå®ä¸šåŠ¡åœºæ™¯ã€‚åŒ…æ‹¬é‡æ–°éƒ¨ç½²ã€åŒæ­¥é…ç½®å’Œè¿è¡Œæ‰€æœ‰æ ¸å¿ƒæµ‹è¯•è„šæœ¬ã€‚</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:full</span></span></code></pre></div><p><em>åŒ…å«è„šæœ¬: 01, 06, 08, 09, 10, 11, 12, 13, 14, 98, 99 ç³»åˆ—</em></p><h3 id="_4-ç‰¹å®šæ¨¡å—æµ‹è¯•-module-specific" tabindex="-1">4. ç‰¹å®šæ¨¡å—æµ‹è¯• (Module Specific) <a class="header-anchor" href="#_4-ç‰¹å®šæ¨¡å—æµ‹è¯•-module-specific" aria-label="Permalink to &quot;4. ç‰¹å®šæ¨¡å—æµ‹è¯• (Module Specific)&quot;">â€‹</a></h3><p>å¦‚æœä½ åªæƒ³æµ‹è¯•æŸä¸ªç‰¹å®šæ¨¡å—ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å¿«æ·å‘½ä»¤ï¼š</p><ul><li><strong>æ ¸å¿ƒç®¡ç†æµç¨‹ (Registry/Admin)</strong>:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:admin</span></span></code></pre></div></li><li><strong>ä¿¡ç”¨ä¸è¿˜æ¬¾ç³»ç»Ÿ</strong>:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:credit</span></span></code></pre></div></li><li><strong>å®‰å…¨ä¸é‡å…¥æ”»å‡»</strong>:<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test:reentrancy</span></span></code></pre></div></li></ul><hr><h2 id="ğŸ“Š-æµ‹è¯•æŠ¥å‘Šè§£æ" tabindex="-1">ğŸ“Š æµ‹è¯•æŠ¥å‘Šè§£æ <a class="header-anchor" href="#ğŸ“Š-æµ‹è¯•æŠ¥å‘Šè§£æ" aria-label="Permalink to &quot;ğŸ“Š æµ‹è¯•æŠ¥å‘Šè§£æ&quot;">â€‹</a></h2><p>æµ‹è¯•å®Œæˆåï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªç»Ÿä¸€çš„æŠ¥å‘Šã€‚</p><div class="important custom-block github-alert"><p class="custom-block-title">IMPORTANT</p><p><strong>æŠ¥å–œä¹ŸæŠ¥å¿§</strong>: æˆ‘ä»¬çš„æµ‹è¯•å¥—ä»¶ä¼šæˆªè·æ¯ä¸ªè„šæœ¬çš„å†…éƒ¨ Revertã€‚å¦‚æœè„šæœ¬è¾“å‡ºä¸­åŒ…å« &quot;reverted&quot; æˆ– &quot;Error&quot;ï¼Œå³ä¾¿è„šæœ¬æ²¡é€€å‡ºï¼Œå›å½’å¥—ä»¶ä¹Ÿä¼šå°†å…¶æ ‡è®°ä¸º <strong>FAILED</strong>ã€‚</p></div><hr><h2 id="ğŸ”-æ•…éšœæ’æŸ¥" tabindex="-1">ğŸ” æ•…éšœæ’æŸ¥ <a class="header-anchor" href="#ğŸ”-æ•…éšœæ’æŸ¥" aria-label="Permalink to &quot;ğŸ” æ•…éšœæ’æŸ¥&quot;">â€‹</a></h2><ul><li><strong>Panic: Allocated too much memory</strong>: è¿™æ˜¯ Anvil åœ¨å¤„ç†å¤æ‚ <code>roleData</code> æ—¶çš„å·²çŸ¥é™åˆ¶ã€‚å¦‚æœé‡åˆ°æ­¤é”™è¯¯ï¼Œè¯·å°è¯•å‡å° <code>roleData</code> ä¸­çš„å­—ç¬¦ä¸²é•¿åº¦æˆ–æ¸…ç©º Anvil é‡æ–°è¿è¡Œã€‚</li><li><strong>DepositNotVerified</strong>: ç¡®ä¿åœ¨è°ƒç”¨ <code>notifyDeposit</code> å‰ï¼Œå¯¹åº”è´¦æˆ·å·²å‘ Paymaster åˆçº¦è½¬å…¥è¶³å¤Ÿçš„ aPNTs ä»£å¸ã€‚</li></ul>`,28)])])}const u=a(n,[["render",l]]);export{k as __pageData,u as default};
