import{_ as a,c as t,o,ag as i}from"./chunks/framework.dvv-DFtf.js";const g=JSON.parse('{"title":"SDK åœºæ™¯åŒ–æ¡ˆä¾‹è®¾è®¡ (User Case Design)","description":"","frontmatter":{},"headers":[],"relativePath":"guide/USER_CASE_DESIGN.md","filePath":"guide/USER_CASE_DESIGN.md","lastUpdated":1768813029000}'),r={name:"guide/USER_CASE_DESIGN.md"};function l(s,e,n,d,c,p){return o(),t("div",null,[...e[0]||(e[0]=[i(`<h1 id="sdk-åœºæ™¯åŒ–æ¡ˆä¾‹è®¾è®¡-user-case-design" tabindex="-1">SDK åœºæ™¯åŒ–æ¡ˆä¾‹è®¾è®¡ (User Case Design) <a class="header-anchor" href="#sdk-åœºæ™¯åŒ–æ¡ˆä¾‹è®¾è®¡-user-case-design" aria-label="Permalink to &quot;SDK åœºæ™¯åŒ–æ¡ˆä¾‹è®¾è®¡ (User Case Design)&quot;">â€‹</a></h1><p>æœ¬æ–‡æ¡£å€Ÿé‰´ <code>registry</code> å‰ç«¯é¡¹ç›®çš„ç”¨æˆ·äº¤äº’é€»è¾‘ï¼Œæå–æ ¸å¿ƒä¸šåŠ¡é“¾è·¯ï¼Œè®¾è®¡äº† SDK åœ¨ Phase 3 (Sepolia) é˜¶æ®µçš„åœºæ™¯åŒ–æµ‹è¯•ç”¨ä¾‹ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯<strong>å‚è€ƒå‰ç«¯ä½“éªŒã€æ²‰æ·€ SDK æ¨¡å¼ (Orchestration Patterns)</strong>ï¼Œè€Œéç®€å•çš„æ¥å£å¤ç”¨ã€‚</p><h2 id="åœºæ™¯è§’è‰²å®šä¹‰" tabindex="-1">åœºæ™¯è§’è‰²å®šä¹‰ <a class="header-anchor" href="#åœºæ™¯è§’è‰²å®šä¹‰" aria-label="Permalink to &quot;åœºæ™¯è§’è‰²å®šä¹‰&quot;">â€‹</a></h2><ol><li><strong>Protocol Admin (åè®®ç®¡ç†å‘˜)</strong>: éƒ¨ç½²æ—¶æœŸæ˜¯ä¸€ä¸ªEOAï¼Œå®Œæˆéƒ¨ç½²åäº¤æ¥ç»™å¤šç­¾Safeè´¦æˆ·ï¼Œè¿›è¡Œåç»­çš„å…¨å±€é…ç½®ã€DVT éªŒè¯å™¨ç®¡ç†ã€æ²»ç†ä»£å¸å‘è¡Œç­‰ã€‚</li><li><strong>Community Admin (ç¤¾åŒºç®¡ç†å‘˜)</strong>: éƒ¨ç½²æ—¶æœŸæ˜¯ä¸€ä¸ªEOAï¼Œå®Œæˆéƒ¨ç½²åäº¤æ¥ç»™å¤šç­¾Safeè´¦æˆ·ï¼Œè´Ÿè´£ç¤¾åŒºæ³¨å†Œã€xPNTs å‘è¡Œã€SBT ä¼šå‘˜è§„åˆ™è®¾å®šã€‚</li><li><strong>PM Operator (Paymaster æ“ä½œå‘˜)</strong>: éƒ¨ç½²æ—¶æœŸæ˜¯ä¸€ä¸ªEOAï¼Œå®Œæˆéƒ¨ç½²åï¼Œ<strong>å¯é€‰</strong>äº¤æ¥ç»™å¤šç­¾Safeè´¦æˆ·ï¼Œè´Ÿè´£ Paymaster èŠ‚ç‚¹è¿ç»´ã€è´¨æŠ¼å……å€¼ã€è´¹ç”¨ç®¡ç†ç­‰ã€‚å¤šæ•°æ—¶å€™ï¼Œæ—©æœŸç¤¾åŒºç®¡ç†å‘˜å’ŒOperatoræ˜¯ä¸€ä¸ªEOAã€‚</li><li><strong>SuperPaymaster Operator</strong>: æ³¨å†Œæ—¶æœŸæ˜¯ä¸€ä¸ªEOAï¼Œå®Œæˆéƒ¨ç½²åï¼Œ<strong>å¯é€‰</strong>äº¤æ¥ç»™å¤šç­¾Safeè´¦æˆ·ï¼Œè´Ÿè´£ SuperPaymasterå‚æ•°é…ç½®å’Œå›½åº“ç®¡ç†ã€‚å¤šæ•°æ—¶å€™ï¼Œæ—©æœŸç¤¾åŒºç®¡ç†å‘˜å’ŒOperatoræ˜¯ä¸€ä¸ªEOAã€‚</li><li><strong>DVT(Node) Operator</strong>: éƒ¨ç½²æ—¶æœŸæ˜¯ä¸€ä¸ªEOAï¼Œå®Œæˆéƒ¨ç½²åï¼Œ<strong>å¯é€‰</strong>äº¤æ¥ç»™å…¶ä»–EOAæˆ–è€…è‡ªåŠ¨Rotate è´¦æˆ·ï¼Œè´Ÿè´£ DVT å‚æ•°é…ç½®å’Œæ²»ç†ä»£å¸ç®¡ç†ã€‚</li><li><strong>EndUser (ç»ˆç«¯ç”¨æˆ·)</strong>: å‚ä¸ç¤¾åŒºã€è·å– SBT èº«ä»½ã€ä½¿ç”¨ç¤¾åŒºä¿¡ç”¨è¿›è¡Œ Gasless äº¤æ˜“ã€‚</li></ol><hr><h2 id="æ ¸å¿ƒæµ‹è¯•ç”¨ä¾‹-business-scenarios" tabindex="-1">æ ¸å¿ƒæµ‹è¯•ç”¨ä¾‹ (Business Scenarios) <a class="header-anchor" href="#æ ¸å¿ƒæµ‹è¯•ç”¨ä¾‹-business-scenarios" aria-label="Permalink to &quot;æ ¸å¿ƒæµ‹è¯•ç”¨ä¾‹ (Business Scenarios)&quot;">â€‹</a></h2><p>èƒŒæ™¯ä¿¡æ¯ï¼š</p><ul><li>GTokenåœ¨æµ‹è¯•é˜¶æ®µï¼Œæ¥è‡ªäºåè®®Adminç›´æ¥é“¸é€ ç©ºæŠ•ã€‚</li><li>æœªæ¥GTokenæ¥è‡ªäºç‹¬ç«‹çš„é˜¶æ¢¯ä»·æ ¼é”€å”®ï¼ˆMintï¼‰åˆçº¦/åº”ç”¨ã€‚</li><li>xPNTsåœ¨æµ‹è¯•é˜¶æ®µï¼Œæ¥è‡ªäºç¤¾åŒºAdminé“¸é€ ç©ºæŠ•ã€‚</li><li>æœªæ¥xPNTsæ¥è‡ªäºç¤¾åŒºå‘è¡Œ+Reputationæœºåˆ¶+ä»»åŠ¡å¹¿åœºã€‚</li><li>SBTåœ¨æµ‹è¯•é˜¶æ®µï¼Œæ¥è‡ªäºç¤¾åŒºAdminé“¸é€ ç©ºæŠ•æˆ–è€…è‡ªè¡ŒMintã€‚</li><li>æœªæ¥SBTæ¥è‡ªäºç¤¾åŒºShops+Reputationæœºåˆ¶+ä»»åŠ¡å¹¿åœºã€‚</li><li>NFTåœ¨æµ‹è¯•é˜¶æ®µï¼Œæ¥è‡ªäºç¤¾åŒºAdminé“¸é€ ç©ºæŠ•æˆ–è€…è‡ªè¡ŒMintã€‚</li><li>æœªæ¥NFTæ¥è‡ªäºç¤¾åŒºShops+Reputationæœºåˆ¶+ä»»åŠ¡å¹¿åœºã€‚</li></ul><h3 id="ç”¨ä¾‹-1-ç¤¾åŒº-å…¨æµç¨‹-è‡ªåŠ¨åŒ–-dao-launchpad-pattern" tabindex="-1">ç”¨ä¾‹ 1ï¼šç¤¾åŒºâ€œå…¨æµç¨‹â€è‡ªåŠ¨åŒ– (DAO Launchpad Pattern) <a class="header-anchor" href="#ç”¨ä¾‹-1-ç¤¾åŒº-å…¨æµç¨‹-è‡ªåŠ¨åŒ–-dao-launchpad-pattern" aria-label="Permalink to &quot;ç”¨ä¾‹ 1ï¼šç¤¾åŒºâ€œå…¨æµç¨‹â€è‡ªåŠ¨åŒ– (DAO Launchpad Pattern)&quot;">â€‹</a></h3><p><strong>å‚è€ƒè‡ª</strong>: <code>RegisterCommunity.tsx</code></p><ul><li><strong>è®¾è®¡æ€è·¯</strong>: å‰ç«¯æ˜¯åˆ†æ­¥å¼•å¯¼ï¼ŒSDK åº”æä¾›â€œåŸå­ç»„åˆâ€èƒ½åŠ›ã€‚æ¨¡æ‹Ÿç¤¾åŒºä» 0 åˆ° 1 çš„å…¨è¿‡ç¨‹ï¼šæˆæƒ -&gt; è´¨æŠ¼ -&gt; åŸºå‡†é…ç½® -&gt; å…³è” SBTã€‚</li><li><strong>SDK éªŒè¯é‡ç‚¹</strong>: <ul><li>ç»„åˆè°ƒç”¨ï¼š<code>GTokenClient</code> ä¸ <code>RegistryClient</code> çš„æ— ç¼çŠ¶æ€æ¡¥æ¥ã€‚</li><li><code>RegistryClient.registerCommunityWithAutoStake</code></li><li>éªŒè¯ <code>ContractConfigManager</code> æ˜¯å¦æ­£ç¡®è¯†åˆ«æ–°æ³¨å†Œçš„ç¤¾åŒºé…ç½®ã€‚</li><li>ç¤¾åŒºå‘è¡Œè‡ªå·±çš„xPNTsï¼ŒNFTã€‚</li></ul></li></ul><h3 id="ç”¨ä¾‹-2-paymaster-èŠ‚ç‚¹éƒ¨ç½²å‘å¯¼-operator-wizard" tabindex="-1">ç”¨ä¾‹ 2ï¼šPaymaster èŠ‚ç‚¹éƒ¨ç½²å‘å¯¼ (Operator Wizard) <a class="header-anchor" href="#ç”¨ä¾‹-2-paymaster-èŠ‚ç‚¹éƒ¨ç½²å‘å¯¼-operator-wizard" aria-label="Permalink to &quot;ç”¨ä¾‹ 2ï¼šPaymaster èŠ‚ç‚¹éƒ¨ç½²å‘å¯¼ (Operator Wizard)&quot;">â€‹</a></h3><p><strong>åŸå‹å‚è€ƒ</strong>: <code>DeployWizard.tsx</code> (3-Step Flow)</p><ul><li><strong>ä¸šåŠ¡æµç¨‹</strong>: æ“ä½œå‘˜é€‰æ‹©æ¨¡å¼ï¼ˆAOA/AOA+ï¼‰-&gt; èµ„æºè‡ªæ£€ï¼ˆGToken ä½™é¢ã€è´¨æŠ¼çŠ¶æ€ï¼‰-&gt; éƒ¨ç½²åˆçº¦å¹¶å……å€¼ã€‚</li><li><strong>SDK éªŒè¯é‡ç‚¹</strong>: <ul><li><code>OperatorClient.checkResources</code> (æ¨¡æ‹Ÿå‰ç«¯èµ„æºè‡ªæ£€é€»è¾‘)</li><li><code>PaymasterFactory.deployPaymaster</code></li><li><code>OperatorClient.depositCollateral</code></li></ul></li><li><strong>é¢„æœŸç»“æœ</strong>: å®Œæˆåï¼ŒOperatoræ‹¥æœ‰ç‹¬ç«‹çš„<code>Paymaster</code>èŠ‚ç‚¹å’Œ Gas Tokenï¼ˆxPNTsï¼‰ï¼Œæˆ–è€…åœ¨ <code>SuperPaymaster</code> çš„ aPNTs ä½™é¢å¯è§ä¸”å¯ç”¨äºæ”¯æŒè‡ªå·±ç¤¾åŒºæˆå‘˜ä½¿ç”¨xPNTsä»£ä»˜ã€‚</li></ul><h3 id="ç”¨ä¾‹-3-ç”¨æˆ·èº«ä»½è·å–ä¸ä¿¡èª‰æ¿€æ´»-sbt-reputation" tabindex="-1">ç”¨ä¾‹ 3ï¼šç”¨æˆ·èº«ä»½è·å–ä¸ä¿¡èª‰æ¿€æ´» (SBT &amp; Reputation) <a class="header-anchor" href="#ç”¨ä¾‹-3-ç”¨æˆ·èº«ä»½è·å–ä¸ä¿¡èª‰æ¿€æ´»-sbt-reputation" aria-label="Permalink to &quot;ç”¨ä¾‹ 3ï¼šç”¨æˆ·èº«ä»½è·å–ä¸ä¿¡èª‰æ¿€æ´» (SBT &amp; Reputation)&quot;">â€‹</a></h3><p><strong>åŸå‹å‚è€ƒ</strong>: <code>GetSBT.tsx</code>, <code>MySBT.tsx</code></p><ul><li><strong>ä¸šåŠ¡æµç¨‹</strong>: ç”¨æˆ·é€‰æ‹©ç¤¾åŒº -&gt; è‡ªåŠ¨è´¨æŠ¼ 0.4 GT -&gt; é“¸é€  MySBT -&gt; æŸ¥çœ‹å…¨å±€ä¿¡èª‰åˆ†ã€‚</li><li><strong>SDK éªŒè¯é‡ç‚¹</strong>: <ul><li><code>EndUserClient.mintSBT</code> (åŒ…å« auto-stake é€»è¾‘)</li><li><code>ReputationClient.getGlobalReputation</code></li><li><code>RegistryClient.getCreditLimit</code> (éªŒè¯ä¿¡èª‰åˆ†æ˜¯å¦æ­£ç¡®è½¬åŒ–ä¸ºä¿¡ç”¨é¢åº¦)</li></ul></li></ul><h3 id="ç”¨ä¾‹-4-çº¯å‡€-gasless-äº¤æ˜“ä½“éªŒ-ultimate-gasless-ux" tabindex="-1">ç”¨ä¾‹ 4ï¼šçº¯å‡€ Gasless äº¤æ˜“ä½“éªŒ (Ultimate Gasless UX) <a class="header-anchor" href="#ç”¨ä¾‹-4-çº¯å‡€-gasless-äº¤æ˜“ä½“éªŒ-ultimate-gasless-ux" aria-label="Permalink to &quot;ç”¨ä¾‹ 4ï¼šçº¯å‡€ Gasless äº¤æ˜“ä½“éªŒ (Ultimate Gasless UX)&quot;">â€‹</a></h3><p>è¿™ä¹Ÿæ˜¯æˆ‘ä»¬PhD paperè·å–å®éªŒæ•°æ®çš„é˜¶æ®µï¼ŒåŒ…æ‹¬baselineï¼ˆEOAå’ŒPimlico Paymasterï¼Œä»¥åŠä¸šç•Œå¹³å‡ç»Ÿè®¡æˆæœ¬ï¼‰å’Œä¸¤ä¸ªå¯¹æ¯”å®éªŒï¼ˆPaymaster V4å’ŒSuperPaymasterï¼‰ã€‚ <strong>åŸå‹å‚è€ƒ</strong>: <code>DeveloperPortal.tsx</code> (é›†æˆç¤ºä¾‹)</p><ul><li><strong>ä¸šåŠ¡æµç¨‹</strong>: ä¸€ä¸ªæ²¡æœ‰ä»»ä½• ETH çš„æ–°è´¦æˆ·ï¼Œä½¿ç”¨ç¤¾åŒºå‘æ”¾çš„ SBT å‡­è¯ï¼Œé€šè¿‡ SDK å‘é€ä¸€ç¬”äº¤æ˜“ã€‚</li><li><strong>SDK éªŒè¯é‡ç‚¹</strong>: <ul><li><code>createEndUserClient</code> åˆå§‹åŒ–ï¼ˆæ— ç§é’¥ç­¾åæ¨¡å¼æˆ–æ™ºèƒ½è´¦æˆ·æ¨¡å¼ï¼‰</li><li><code>getSuperPaymasterMiddleware</code> åå°è‡ªåŠ¨æ„å»º <code>userOp.paymasterAndData</code></li><li>éªŒè¯ <code>SuperPaymaster</code> çš„ <code>postOp</code> é˜¶æ®µæ˜¯å¦æ­£ç¡®æ‰£é™¤ç”¨æˆ·ä¿¡ç”¨æˆ– xPNTs ä»£å¸ã€‚</li></ul></li></ul><h3 id="åŸºç¡€ç”¨ä¾‹æ•´åˆ-åç»­todo" tabindex="-1">åŸºç¡€ç”¨ä¾‹æ•´åˆï¼ˆåç»­TODOï¼‰ <a class="header-anchor" href="#åŸºç¡€ç”¨ä¾‹æ•´åˆ-åç»­todo" aria-label="Permalink to &quot;åŸºç¡€ç”¨ä¾‹æ•´åˆï¼ˆåç»­TODOï¼‰&quot;">â€‹</a></h3><p>æˆ‘ä»¬æœŸæœ›èƒ½å¤Ÿæ•´åˆåŸºç¡€ç”¨ä¾‹ï¼Œç»™ç”¨æˆ·ï¼ˆç¤¾åŒºï¼‰æä¾›è‡ªä¸»è‡ªåŠ©çš„launchpadä»¥åŠç®¡ç†å¹³å°ã€‚ ğŸ« Get GToken Get protocol access permission GToken, become protocol member, join permissionless, quit anytime freely</p><p>Get â†’ ğŸ›ï¸ Register Community Create and register your community on the AAstar Network</p><p>Register â†’ ğŸ’ Deploy xPNTs Create your community gas token for payment abstraction</p><p>Deploy â†’ ğŸš€ Launch Paymaster Deploy your Paymaster contract and start serving gasless transactions to your community</p><p>Launch Paymaster â†’ â†’</p><h3 id="ç”¨ä¾‹-x-æ›´å¤šç”¨ä¾‹-æŒç»­åŠ å…¥-åç»­todo-ä¸åŠ å…¥å¼€å‘" tabindex="-1">ç”¨ä¾‹ Xï¼šæ›´å¤šç”¨ä¾‹ï¼ŒæŒç»­åŠ å…¥ï¼ˆåç»­TODOï¼Œä¸åŠ å…¥å¼€å‘ï¼‰ <a class="header-anchor" href="#ç”¨ä¾‹-x-æ›´å¤šç”¨ä¾‹-æŒç»­åŠ å…¥-åç»­todo-ä¸åŠ å…¥å¼€å‘" aria-label="Permalink to &quot;ç”¨ä¾‹ Xï¼šæ›´å¤šç”¨ä¾‹ï¼ŒæŒç»­åŠ å…¥ï¼ˆåç»­TODOï¼Œä¸åŠ å…¥å¼€å‘ï¼‰&quot;">â€‹</a></h3><pre><code>ç”¨ä¾‹ 5ï¼šå±æœºç®¡ç†ä¸ DVT æ²»ç† (Governance &amp; Slashing)
</code></pre><p><strong>åŸå‹å‚è€ƒ</strong>: <code>AdminBatchMint.tsx</code> (ç®¡ç†å…¥å£)</p><ul><li><strong>ä¸šåŠ¡æµç¨‹</strong>: ç®¡ç†å‘˜å‘ç°æ¶æ„è¡Œä¸º -&gt; DVT èŠ‚ç‚¹æŠ•ç¥¨ -&gt; æ‰§è¡Œå¯¹ç¤¾åŒºè´¨æŠ¼é¢çš„ Slashã€‚</li><li><strong>SDK éªŒè¯é‡ç‚¹</strong>: <ul><li><code>DVTClient.proposeSlash</code></li><li><code>DVTClient.signSlash</code> (æ¨¡æ‹Ÿå¤šèŠ‚ç‚¹èšåˆç­¾å)</li><li><code>AdminClient.executeSlash</code></li></ul></li></ul><hr><h2 id="å¼€å‘è®¡åˆ’-implementation-plan-é˜¶æ®µ-3" tabindex="-1">å¼€å‘è®¡åˆ’ (Implementation Plan - é˜¶æ®µ 3) <a class="header-anchor" href="#å¼€å‘è®¡åˆ’-implementation-plan-é˜¶æ®µ-3" aria-label="Permalink to &quot;å¼€å‘è®¡åˆ’ (Implementation Plan - é˜¶æ®µ 3)&quot;">â€‹</a></h2><h3 id="ç¬¬ä¸€æ­¥-sepolia-ç¯å¢ƒå°±ç»ª" tabindex="-1">ç¬¬ä¸€æ­¥ï¼šSepolia ç¯å¢ƒå°±ç»ª <a class="header-anchor" href="#ç¬¬ä¸€æ­¥-sepolia-ç¯å¢ƒå°±ç»ª" aria-label="Permalink to &quot;ç¬¬ä¸€æ­¥ï¼šSepolia ç¯å¢ƒå°±ç»ª&quot;">â€‹</a></h3><ul><li>éƒ¨ç½²å…¨å¥—åˆçº¦ (V3.3.0+) è‡³ Sepoliaã€‚</li><li>ä½¿ç”¨ <code>forge verify-contract</code> å®Œæˆ Etherscan éªŒè¯ã€‚</li><li>æ›´æ–° SDK <code>constants.ts</code> ä¸­çš„ Sepolia åˆçº¦åœ°å€ã€‚</li></ul><h3 id="ç¬¬äºŒæ­¥-åœºæ™¯åŒ–ç¤ºä¾‹å¼€å‘" tabindex="-1">ç¬¬äºŒæ­¥ï¼šåœºæ™¯åŒ–ç¤ºä¾‹å¼€å‘ <a class="header-anchor" href="#ç¬¬äºŒæ­¥-åœºæ™¯åŒ–ç¤ºä¾‹å¼€å‘" aria-label="Permalink to &quot;ç¬¬äºŒæ­¥ï¼šåœºæ™¯åŒ–ç¤ºä¾‹å¼€å‘&quot;">â€‹</a></h3><ul><li>åœ¨ <code>examples/</code> ç›®å½•ä¸‹æŒ‰ä¸Šè¿° 4 ä¸ªç”¨ä¾‹åˆ›å»ºç‹¬ç«‹çš„ ç›®å½•å’ŒTS è„šæœ¬ã€‚</li><li>ç¼–å†™é…å¥—çš„ä¸­æ–‡æ–‡æ¡£æ³¨é‡Šï¼Œç¡®ä¿å…¶ä½œä¸ºâ€œå¼€å‘è€…æŒ‡å—â€çš„ä½¿ç”¨ä»·å€¼ã€‚</li><li>ç»“åˆSuperPaymaster Readmeä¸­çš„æ•°æ®æ”¶é›†è®¡åˆ’ï¼Œå®ŒæˆPhD paperçš„æ•°æ®æ”¶é›†ã€‚è¿™éƒ¨åˆ†å¯ä»¥ç‹¬ç«‹ç›®å½•ã€‚</li></ul><h3 id="ç¬¬ä¸‰æ­¥-å…¨æµç¨‹å†’çƒŸæµ‹è¯•" tabindex="-1">ç¬¬ä¸‰æ­¥ï¼šå…¨æµç¨‹å†’çƒŸæµ‹è¯• <a class="header-anchor" href="#ç¬¬ä¸‰æ­¥-å…¨æµç¨‹å†’çƒŸæµ‹è¯•" aria-label="Permalink to &quot;ç¬¬ä¸‰æ­¥ï¼šå…¨æµç¨‹å†’çƒŸæµ‹è¯•&quot;">â€‹</a></h3><ul><li>è¿è¡Œ <code>pnpm run test:sepolia</code> (æ–°å¢è„šæœ¬)ã€‚</li><li>è¾“å‡ºåœºæ™¯æ‰§è¡Œè®°å½•ï¼Œä½œä¸º Phase 3 çš„äº¤ä»˜è¯æ˜ã€‚</li></ul>`,38)])])}const m=a(r,[["render",l]]);export{g as __pageData,m as default};
