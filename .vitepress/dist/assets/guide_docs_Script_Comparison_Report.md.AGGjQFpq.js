import{_ as a,c as n,o as i,ag as e}from"./chunks/framework.dvv-DFtf.js";const g=JSON.parse('{"title":"回归测试脚本对比验证","description":"","frontmatter":{},"headers":[],"relativePath":"guide/docs/Script_Comparison_Report.md","filePath":"guide/docs/Script_Comparison_Report.md","lastUpdated":null}'),p={name:"guide/docs/Script_Comparison_Report.md"};function t(r,s,l,o,h,d){return i(),n("div",null,[...s[0]||(s[0]=[e(`<h1 id="回归测试脚本对比验证" tabindex="-1">回归测试脚本对比验证 <a class="header-anchor" href="#回归测试脚本对比验证" aria-label="Permalink to &quot;回归测试脚本对比验证&quot;">​</a></h1><h2 id="对比结果" tabindex="-1">对比结果 <a class="header-anchor" href="#对比结果" aria-label="Permalink to &quot;对比结果&quot;">​</a></h2><h3 id="scripts-run-regression-sh-旧脚本" tabindex="-1">scripts/run_regression.sh (旧脚本) <a class="header-anchor" href="#scripts-run-regression-sh-旧脚本" aria-label="Permalink to &quot;scripts/run_regression.sh (旧脚本)&quot;">​</a></h3><p><strong>测试内容</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>scripts/v2_regression/00_validate_env.ts</span></span>
<span class="line"><span>scripts/v2_regression/01_setup_and_fund.ts</span></span>
<span class="line"><span>scripts/v2_regression/02_operator_onboarding.ts</span></span>
<span class="line"><span>scripts/v2_regression/03_community_registry.ts</span></span>
<span class="line"><span>scripts/v2_regression/04_enduser_flow.ts</span></span>
<span class="line"><span>scripts/v2_regression/05_admin_audit.ts</span></span></code></pre></div><p><strong>特点</strong>: 简单、仅运行V2回归测试、不处理Anvil启动</p><hr><h3 id="run-full-regression-sh-新主脚本" tabindex="-1">run_full_regression.sh (新主脚本) <a class="header-anchor" href="#run-full-regression-sh-新主脚本" aria-label="Permalink to &quot;run_full_regression.sh (新主脚本)&quot;">​</a></h3><p><strong>测试内容</strong> (包含上述所有6个 + 更多):</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>✅ scripts/v2_regression/00_validate_env.ts</span></span>
<span class="line"><span>✅ scripts/v2_regression/01_setup_and_fund.ts</span></span>
<span class="line"><span>✅ scripts/v2_regression/02_operator_onboarding.ts</span></span>
<span class="line"><span>✅ scripts/v2_regression/03_community_registry.ts</span></span>
<span class="line"><span>✅ scripts/v2_regression/04_enduser_flow.ts</span></span>
<span class="line"><span>✅ scripts/v2_regression/05_admin_audit.ts</span></span>
<span class="line"><span>   scripts/06_local_test_v3_admin.ts</span></span>
<span class="line"><span>   scripts/06_local_test_v3_funding.ts</span></span>
<span class="line"><span>   ...共24个测试</span></span></code></pre></div><p><strong>特点</strong>:</p><ul><li>✅ 包含所有v2_regression测试</li><li>✅ 自动启动Anvil</li><li>✅ 自动部署合约</li><li>✅ 支持Sepolia模式</li></ul><hr><h3 id="run-sdk-regression-sh-sdk独立测试" tabindex="-1">run_sdk_regression.sh (SDK独立测试) <a class="header-anchor" href="#run-sdk-regression-sh-sdk独立测试" aria-label="Permalink to &quot;run_sdk_regression.sh (SDK独立测试)&quot;">​</a></h3><p><strong>测试内容</strong>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>22_test_bls_signing.ts</span></span>
<span class="line"><span>23_test_middleware.ts</span></span>
<span class="line"><span>20_sdk_full_capability.ts</span></span>
<span class="line"><span>18_sdk_e2e_verification.ts</span></span>
<span class="line"><span>19_sdk_experiment_runner.ts</span></span></code></pre></div><p><strong>特点</strong>:</p><ul><li>SDK层面测试</li><li>不依赖Anvil</li><li>不与scripts/run_regression.sh重复</li></ul><hr><h2 id="✅-验证结论" tabindex="-1">✅ 验证结论 <a class="header-anchor" href="#✅-验证结论" aria-label="Permalink to &quot;✅ 验证结论&quot;">​</a></h2><p><strong>scripts/run_regression.sh</strong> 的所有功能已100%包含在:</p><ul><li>✅ <code>run_full_regression.sh</code> (包含全部6个v2_regression测试)</li></ul><p><strong>无遗漏内容</strong>:</p><ul><li>run_full_regression.sh 是 scripts/run_regression.sh 的<strong>超集</strong></li><li>包含完全相同的测试 + 额外18个高级测试</li></ul><p><strong>可以安全删除</strong>:</p><ul><li>✅ scripts/run_regression.sh (冗余)</li></ul><hr><h2 id="推荐使用" tabindex="-1">推荐使用 <a class="header-anchor" href="#推荐使用" aria-label="Permalink to &quot;推荐使用&quot;">​</a></h2><p><strong>V2回归测试</strong> (仅6个基础测试):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 直接在Sepolia运行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">REVISION_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">sepolia</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SDK_ENV_PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.env.sepolia</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ./run_full_regression.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sepolia</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --skip-deploy</span></span></code></pre></div><p><strong>完整回归测试</strong> (24个测试):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Anvil本地</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./run_full_regression.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Sepolia</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./run_full_regression.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sepolia</span></span></code></pre></div><p><strong>SDK独立测试</strong>:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./run_sdk_regression.sh</span></span></code></pre></div>`,34)])])}const _=a(p,[["render",t]]);export{g as __pageData,_ as default};
